<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
    <!-- Cache Control -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- Primary Meta Tags -->
    <title>MySideChef - Your AI-Powered Kitchen Assistant</title>
    <meta name="description" content="Transform your cooking experience with AI-powered meal planning, instant recipe suggestions, and personalized healthy alternatives." />
    <meta name="keywords" content="meal planning, recipe finder, healthy cooking, AI kitchen assistant, meal suggestions, cooking tips, personalized meals, diet planning" />
    <meta name="author" content="MySideChef Team" />
    <meta name="robots" content="index, follow, max-image-preview:large" />
    <link rel="canonical" href="https://mysidechef.com" />

    <!-- Essential Open Graph Tags for WhatsApp -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://mysidechef.com" />
    <meta property="og:title" content="MySideChef - AI Kitchen Assistant" />
    <meta property="og:description" content="Transform your cooking experience with AI-powered meal planning and personalized recipes." />
    <meta property="og:image" content="https://mysidechef.com/og-image-square-large.jpg" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:site_name" content="MySideChef" />
    <meta property="og:locale" content="en_US" />

    <!-- Additional Social Media Tags -->
    <meta property="og:image:secure_url" content="https://mysidechef.com/og-image-square-large.jpg" />
    <meta property="og:image:alt" content="MySideChef - AI Kitchen Assistant" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@mysidechef" />
    <meta name="twitter:title" content="MySideChef - AI Kitchen Assistant" />
    <meta name="twitter:description" content="Transform your cooking experience with AI-powered meal planning and personalized recipes." />
    <meta name="twitter:image" content="https://mysidechef.com/og-image-compressed.jpg" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#22c55e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PW7NJ3TQ');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              // Check for updates on page load
              registration.update();
              
              // Check for updates periodically
              setInterval(() => {
                registration.update();
              }, 1000 * 60 * 60); // Check every hour
            });

          // Handle new service worker activation
          let refreshing = false;
          navigator.serviceWorker.addEventListener('controllerchange', () => {
            if (!refreshing) {
              refreshing = true;
              window.location.reload();
            }
          });
        });
      }
    </script>
    
    <!-- Initialize dataLayer with consent state -->
    <script>
      window.dataLayer = window.dataLayer || [];
      // Set default consent to 'denied' until user provides consent
      const analyticsConsent = localStorage.getItem('analytics-consent');
      dataLayer.push({
        'event': 'default_consent',
        'analytics_storage': analyticsConsent === 'accepted' ? 'granted' : 'denied'
      });
    </script>
    
    <!-- Preload critical assets -->
    <link rel="preload" href="/logo.svg" as="image" type="image/svg+xml" fetchpriority="high" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/svg+xml" sizes="any" href="/favicon.svg" />
    <link rel="mask-icon" href="/favicon.svg" color="#22c55e" />
    
    <!-- Preconnect to important third-party origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Inter font with display swap -->
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" media="print" onload="this.media='all'" />
    <noscript>
      <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    </noscript>

    <!-- Critical CSS -->
    <style>
      :root {
        --font-sans: 'Inter var', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        
        /* Base Colors */
        --primary: 142 84% 45%;
        --primary-foreground: 0 0% 100%;
        
        --secondary: 199 84% 48%;
        --secondary-foreground: 0 0% 100%;
        
        --accent: 24 95% 53%;
        --accent-foreground: 0 0% 100%;
        
        --background: 0 0% 100%;
        --foreground: 222 47% 11%;
        
        --muted: 210 40% 98%;
        --muted-foreground: 215 16% 47%;
        
        --card: 0 0% 100%;
        --card-foreground: 222 47% 11%;
        
        --popover: 0 0% 100%;
        --popover-foreground: 222 47% 11%;
        
        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 222 47% 11%;
        
        --radius: 0.75rem;
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --background: 222 47% 11%;
          --foreground: 210 40% 98%;
          
          --card: 222 47% 11%;
          --card-foreground: 210 40% 98%;
          
          --popover: 222 47% 11%;
          --popover-foreground: 210 40% 98%;
          
          --border: 216 34% 17%;
          --input: 216 34% 17%;
          
          --muted: 217 33% 17%;
          --muted-foreground: 215 20% 65%;
        }
      }

      *, ::before, ::after {
        border-color: hsl(var(--border));
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-sans);
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        margin: 0;
        padding: 0;
        line-height: 1.5;
      }

      /* Improve Page Transitions */
      ::view-transition-old(root),
      ::view-transition-new(root) {
        animation: none;
        mix-blend-mode: normal;
      }

      /* Disable transitions on resize */
      .resize-animation-stopper * {
        animation: none !important;
        transition: none !important;
      }

      /* Loading State */
      #root:empty {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: hsl(var(--background));
      }

      #root:empty::after {
        content: "";
        width: 40px;
        height: 40px;
        border: 4px solid hsl(var(--muted));
        border-top-color: hsl(var(--primary));
        border-radius: 50%;
        animation: loading 0.75s infinite linear;
      }

      @keyframes loading {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PW7NJ3TQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Disable animations/transitions on window resize
      let resizeTimer;
      window.addEventListener("resize", () => {
        document.body.classList.add("resize-animation-stopper");
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          document.body.classList.remove("resize-animation-stopper");
        }, 400);
      });

      // Register service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').catch(console.error);
        });
      }
    </script>
  </body>
</html>